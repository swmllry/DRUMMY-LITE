{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ListCollectionsCursor = void 0;\n\nconst execute_operation_1 = require(\"../operations/execute_operation\");\n\nconst list_collections_1 = require(\"../operations/list_collections\");\n\nconst abstract_cursor_1 = require(\"./abstract_cursor\");\n/** @public */\n\n\nclass ListCollectionsCursor extends abstract_cursor_1.AbstractCursor {\n  constructor(db, filter, options) {\n    super(db.s.client, db.s.namespace, options);\n    this.parent = db;\n    this.filter = filter;\n    this.options = options;\n  }\n\n  clone() {\n    return new ListCollectionsCursor(this.parent, this.filter, { ...this.options,\n      ...this.cursorOptions\n    });\n  }\n  /** @internal */\n\n\n  _initialize(session, callback) {\n    const operation = new list_collections_1.ListCollectionsOperation(this.parent, this.filter, { ...this.cursorOptions,\n      ...this.options,\n      session\n    });\n    (0, execute_operation_1.executeOperation)(this.parent.s.client, operation, (err, response) => {\n      if (err || response == null) return callback(err); // TODO: NODE-2882\n\n      callback(undefined, {\n        server: operation.server,\n        session,\n        response\n      });\n    });\n  }\n\n}\n\nexports.ListCollectionsCursor = ListCollectionsCursor;","map":{"version":3,"sources":["../../src/cursor/list_collections_cursor.ts"],"names":[],"mappings":";;;;;;;AAEA,MAAA,mBAAA,GAAA,OAAA,CAAA,iCAAA,CAAA;;AACA,MAAA,kBAAA,GAAA,OAAA,CAAA,gCAAA,CAAA;;AAOA,MAAA,iBAAA,GAAA,OAAA,CAAA,mBAAA,CAAA;AAEA;;;AACA,MAAa,qBAAb,SAIU,iBAAA,CAAA,cAJV,CAI2B;EAKzB,WAAA,CAAY,EAAZ,EAAoB,MAApB,EAAsC,OAAtC,EAAsE;IACpE,MAAM,EAAE,CAAC,CAAH,CAAK,MAAX,EAAmB,EAAE,CAAC,CAAH,CAAK,SAAxB,EAAmC,OAAnC;IACA,KAAK,MAAL,GAAc,EAAd;IACA,KAAK,MAAL,GAAc,MAAd;IACA,KAAK,OAAL,GAAe,OAAf;EACD;;EAED,KAAK,GAAA;IACH,OAAO,IAAI,qBAAJ,CAA0B,KAAK,MAA/B,EAAuC,KAAK,MAA5C,EAAoD,EACzD,GAAG,KAAK,OADiD;MAEzD,GAAG,KAAK;IAFiD,CAApD,CAAP;EAID;EAED;;;EACA,WAAW,CAAC,OAAD,EAAqC,QAArC,EAAwE;IACjF,MAAM,SAAS,GAAG,IAAI,kBAAA,CAAA,wBAAJ,CAA6B,KAAK,MAAlC,EAA0C,KAAK,MAA/C,EAAuD,EACvE,GAAG,KAAK,aAD+D;MAEvE,GAAG,KAAK,OAF+D;MAGvE;IAHuE,CAAvD,CAAlB;IAMA,CAAA,GAAA,mBAAA,CAAA,gBAAA,EAAiB,KAAK,MAAL,CAAY,CAAZ,CAAc,MAA/B,EAAuC,SAAvC,EAAkD,CAAC,GAAD,EAAM,QAAN,KAAkB;MAClE,IAAI,GAAG,IAAI,QAAQ,IAAI,IAAvB,EAA6B,OAAO,QAAQ,CAAC,GAAD,CAAf,CADqC,CAGlE;;MACA,QAAQ,CAAC,SAAD,EAAY;QAAE,MAAM,EAAE,SAAS,CAAC,MAApB;QAA4B,OAA5B;QAAqC;MAArC,CAAZ,CAAR;IACD,CALD;EAMD;;AAjCwB;;AAJ3B,OAAA,CAAA,qBAAA,GAAA,qBAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ListCollectionsCursor = void 0;\nconst execute_operation_1 = require(\"../operations/execute_operation\");\nconst list_collections_1 = require(\"../operations/list_collections\");\nconst abstract_cursor_1 = require(\"./abstract_cursor\");\n/** @public */\nclass ListCollectionsCursor extends abstract_cursor_1.AbstractCursor {\n    constructor(db, filter, options) {\n        super(db.s.client, db.s.namespace, options);\n        this.parent = db;\n        this.filter = filter;\n        this.options = options;\n    }\n    clone() {\n        return new ListCollectionsCursor(this.parent, this.filter, {\n            ...this.options,\n            ...this.cursorOptions\n        });\n    }\n    /** @internal */\n    _initialize(session, callback) {\n        const operation = new list_collections_1.ListCollectionsOperation(this.parent, this.filter, {\n            ...this.cursorOptions,\n            ...this.options,\n            session\n        });\n        (0, execute_operation_1.executeOperation)(this.parent.s.client, operation, (err, response) => {\n            if (err || response == null)\n                return callback(err);\n            // TODO: NODE-2882\n            callback(undefined, { server: operation.server, session, response });\n        });\n    }\n}\nexports.ListCollectionsCursor = ListCollectionsCursor;\n//# sourceMappingURL=list_collections_cursor.js.map"]},"metadata":{},"sourceType":"script"}